<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Operators and objects</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R introduction</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R practicals
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="1_GettingStarted.html">1. Getting started in R</a>
    </li>
    <li>
      <a href="2_GrammarPackagesHelp.html">2. Grammar, packages, help</a>
    </li>
    <li>
      <a href="3_Visualisation.html">3. Visualising data</a>
    </li>
    <li>
      <a href="4_OperatorsObjects.html">4. Operators and objects</a>
    </li>
    <li>
      <a href="5_DataImportExport.html">5. Data import and export</a>
    </li>
    <li>
      <a href="6_ControlFlows.html">6. Control flows</a>
    </li>
    <li>
      <a href="7_DataWrangling.html">7. Simple data wrangling</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://damariszurell.github.io">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/ZurellLab">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Operators and objects</h1>

</div>


<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<hr />
<div class="alert alert-info">
<p><strong>RStudio project</strong></p>
<p>Open the RStudio project that we created in the previous session. We
recommend using this RStudio project for the entire course and within
the RStudio project create separate R scripts for each session.</p>
<ul>
<li>Create a new empty R script by going to the tab “File”, select “New
File” and then “R script”. In the new R script, type
<code># Session 4: Operators and objects</code> and save the file in
your folder “scripts” within your project folder, e.g. as
“4_OperatorsObjects.R”</li>
</ul>
</div>
<div id="operators" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Operators</h1>
<p>You can use R as simple calculator. Simply type in the expressions;
they will be executed immediately.</p>
<pre class="r"><code>1 + 2 * 3
(1 + 2) * 3
2 * 5 - prod (2, 5)
sqrt(25 ^ 2)
sin(pi / 2)
0 / 0</code></pre>
<p>Check out <code>?Syntax</code> to learn about the precedence of
operators. If in doubt (or simply for a better overview) use round
brackets.</p>
<p>Useful arithmetic operators:</p>
<ul>
<li><code>^</code> or <code>**</code>: power</li>
<li><code>*</code> / <code>/</code> : multiplication / division</li>
<li><code>+</code> / <code>-</code> : addition / subtraction</li>
<li><code>%/%</code> / <code>%%</code> : integer division / modulo</li>
</ul>
<p>Relational operators:</p>
<ul>
<li><code>==</code>, <code>!=</code> : equal, unequal</li>
<li><code>&gt;</code>, <code>&gt;=</code> : greater than, greater or
equal</li>
<li><code>&lt;</code>, <code>&lt;=</code> : smaller than, smaller or
equal</li>
<li><code>!</code> : negation</li>
</ul>
<p>Logical operators:</p>
<ul>
<li><code>&amp;&amp;</code>: <code>and</code>, only first element is
compared</li>
<li><code>&amp;</code>: <code>and</code>, pairwise comparison</li>
<li><code>||</code>: <code>or</code>, only first element is
compared</li>
<li><code>|</code>: <code>or</code>, pairwise comparison</li>
</ul>
<p>Accessing data:</p>
<ul>
<li><code>$ @</code>: component / slot extraction</li>
<li><code>[ [[</code>: indexing</li>
</ul>
<p>Useful mathematical functions:</p>
<ul>
<li><code>max()</code>, <code>min()</code>, <code>range()</code> :
extreme values</li>
<li><code>summary()</code> : statistical summary</li>
<li><code>abs()</code> : absolute values</li>
<li><code>sqrt()</code> : square root</li>
<li><code>round()</code>, <code>floor()</code>, <code>ceiling()</code> :
round</li>
<li><code>sum()</code>, <code>prod()</code> : sum, product</li>
<li><code>log()</code>, <code>log10()</code>, <code>log2()</code> :
logarithm</li>
<li><code>exp()</code> : exponential function</li>
<li><code>sin()</code>, <code>cos()</code>, <code>tan()</code>,
<code>asin()</code>, <code>acos()</code>, <code>atan()</code> :
trigonometric functions</li>
<li><code>unique()</code> : unique values of a vector</li>
<li><code>na.omit()</code> : removes vector elements that are
<code>NA</code>, or rows from matrices and data frames that contain at
least one <code>NA</code> element.</li>
</ul>
<p>Numeric constants:</p>
<ul>
<li><code>pi</code> : the number <span
class="math inline">\(\pi\)</span></li>
<li><code>Inf</code>, <code>-Inf</code> : infinity</li>
<li><code>NaN</code> : not defined (<em>not a number</em>)</li>
<li><code>NA</code> : Missing value (<em>not available</em>)</li>
<li><code>NULL</code> : empty value</li>
</ul>
</div>
<div id="variablesobjects" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Variables/Objects</h1>
<p>In principle, all data structures and functions are objects in R. You
can get a list with all objects contained in the current workspace by
typing:</p>
<pre class="r"><code>ls()</code></pre>
<p>We can assign own objects using the assignment operator/arrow
<code>&lt;-</code>.</p>
<pre class="r"><code>x &lt;- seq(1, 5)</code></pre>
<p>The results of any operation assigned to an object are usually not
printed in the console. If you want to see the results in real-time,
simply enclose the entire command in brackets:</p>
<pre class="r"><code>(x &lt;- seq(1, 5))</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>R is case sensitive. X is not the same as x.</p>
<pre class="r"><code>X &lt;- 1
ls()</code></pre>
<p>Use <code>rm()</code> to remove objects from your workspace.</p>
<pre class="r"><code>rm(X) # removes one or more objects

rm(list = ls()) # removes all objects from your workspace</code></pre>
<p><em><strong>Naming variables/objects:</strong></em></p>
<p>There is no single naming convention in R. Even in the same package,
multiple conventions might be used <em>simultaneously</em>. But usually,
it’s advisable to stay consistent. Basically, there are <a
href="https://www.r-bloggers.com/consistent-naming-conventions-in-r/">five
naming conventions</a> to chose from:</p>
<ul>
<li>alllowercase: <em>e.g.</em> <code>adjustcolor</code></li>
<li>period.separated: <em>e.g.</em> <code>plot.new</code></li>
<li>underscore_separated: <em>e.g.</em>
<code>numeric_version</code></li>
<li>lowerCamelCase: <em>e.g.</em> <code>addTaskCallback</code></li>
<li>UpperCamelCase: <em>e.g.</em> <code>SignatureMethod</code></li>
</ul>
<p>Despite this freedom of choice, there are also some rules. Object
names have to begin with a letter and may not contain any special
characters except dots (.) and underscores (_). Also be careful not to
use names of built-in functions and constants (nothing bad will happen,
it may just create confusion), <em>e.g.</em> <code>c()</code>,
<code>t()</code>, <code>pi</code>. Reserved words can be found here:</p>
<pre class="r"><code>?Reserved</code></pre>
</div>
<div id="logic" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Logic</h1>
<p>Relational and logical operators are mainly relevant for complex data
requests or manipulations, and for programming, e.g. in control
flows.</p>
<p>Relations:</p>
<pre class="r"><code>?Comparison
4 &lt; 3
(1 + 3) != 3</code></pre>
<p>Logical constants and operations:</p>
<pre class="r"><code>?Logic
2 &lt; 3 &amp;&amp; 3 &lt; 4
2 &lt; 3 || 4 &lt; 3
2 &gt; 3 || 4 &lt; 3

(3 &lt; 2) &amp;&amp; (4 == (2 ^ 2))
(3 &lt; 2) || (4 == (2 ^ 2))</code></pre>
<p>Examples help to understand the difference between the operators
<code>&amp;&amp;</code> resp. <code>||</code> and <code>&amp;</code>
resp. <code>|</code>. The shorter form performs elementwise comparisons
in much the same way as arithmetic operators. The longer form evaluates
left to right examining only the first element of each vector.
Evaluation proceeds only until the result is determined. The longer form
is appropriate for programming control-flow and is typically preferred
in if-clauses.</p>
<pre class="r"><code>c(3 &gt; 2, 3 &gt; 2) # c() means &#39;concatenate&#39; and combines arguments into a vector
c(3 &gt; 2, 3 &gt; 2) &amp; c(3 &lt; 2, 3 &gt; 2)
c(3 &gt; 2, 3 &gt; 2) &amp; c(3 &gt; 2, 3 &lt; 2)
c(3 &gt; 2, 3 &gt; 2) &amp;&amp; c(3 &gt; 2, 3 &lt; 2) # only first elements compared
c(3 &gt; 2, 3 &gt; 2) &amp;&amp; c(3 &lt; 2, 3 &gt; 2)</code></pre>
<p>Internally, <code>TRUE</code> is coded as 1 and <code>FALSE</code> as
0. Hence, you can also calculate with logical values. You will learn to
appreciate it when doing data manipulations later on.</p>
<pre class="r"><code>x &lt;- c(3, 5, 1, -4, 0, -2, 4) # creates vector x
x &lt; 0 # which element of x is smaller than 0?
sum(x &lt; 0) # How many elements of x are smaller than 0?</code></pre>
<p>Note that <code>T</code> and <code>F</code> can be used instead of
<code>TRUE</code> and <code>FALSE</code>, but they are not reserved for
that purpose. This might lead to problems further down the track:</p>
<pre class="r"><code>T == TRUE
F == FALSE
T &lt;- F
T == TRUE ## T is no longer TRUE

# Let&#39;s assign back, so we don&#39;t accidentally run into trouble later on
T &lt;- TRUE
F &lt;- FALSE</code></pre>
<p>It is therefore recommended to avoid using <code>T</code> and
<code>F</code> and use <code>TRUE</code> and <code>FALSE</code> instead
(refer to <a href="http://adv-r.had.co.nz/Style.html">this very short R
style guide by Hadley Wickham</a> for further details on best practice
in styling your code).</p>
</div>
<div id="basic-data-types" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Basic data types</h1>
<p>R distinguishes five basic (atomic) data types:</p>
<p><em>Character:</em> represents string values (letters, words,
sentences, etc.) in R</p>
<pre class="r"><code>(first_name &lt;- &quot;Charlie&quot;)</code></pre>
<p><em>Integer:</em> a simple integer number (positive or negative)</p>
<pre class="r"><code>(shoe_size &lt;- 41)</code></pre>
<p><em>Numeric:</em> a decimal number</p>
<pre class="r"><code>(seminar_hours &lt;- 1.5)</code></pre>
<p><em>Factor:</em> refers to a categorical variable. R stores the value
of the factor as well as the levels (categories) that it could
potentially take.</p>
<pre class="r"><code># When declaring a factor, you can explicitly say what are the other levels/categories 
(gender &lt;- factor(&#39;female&#39;, levels = c(&#39;female&#39;,&#39;male&#39;,&#39;diverse&#39;)))

# Alternatively, you can convert another data type (here, character) to factor
(gender_groupA &lt;- factor( c(&#39;female&#39;,&#39;male&#39;,&#39;diverse&#39;,&#39;female&#39;,&#39;female&#39;,&#39;male&#39;) ))</code></pre>
<p><em>Boolean:</em> true and false values</p>
<pre class="r"><code>(hungry &lt;- TRUE)</code></pre>
</div>
<div id="missing-values-na" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Missing values NA</h1>
<p><code>NA</code> (Not Available) indicates missing values. For
example, imagine a dataset with daily weather measurements over a longer
period of time. On one day, the batteries of the weather station were
empty and no measurements were taken. For integrity reasons, this empty
day will still be stored in the data set but will be assigned the
missing value ‘NA’. Knowing about NAs in your data is important because
per default all functions will return NA if your data include NA.</p>
<pre class="r"><code>mean(c(1, 5, 2, NA, 10, 4, NA, 7))</code></pre>
<p>Fortunately, you can exclude NAs from most operations.</p>
<pre class="r"><code>mean(c(1, 5, 2, NA, 10, 4, NA, 7), na.rm = TRUE)</code></pre>
<p>You can test for NAs with <code>is.na()</code></p>
<pre class="r"><code>is.na(c(1, 5, 2, NA, 10, 4, NA, 7))
(na.omit(c(1, 5, 2, NA, 10, 4, NA, 7))) # remove the NA value.</code></pre>
</div>
<div id="data-structures-and-object-types" class="section level1"
number="6">
<h1><span class="header-section-number">6</span> Data structures and
object types</h1>
<p>R distinguishes several objects types that differ in the complexity
of data structure: scalars and vectors, matrices, arrays, data frame and
list. Vectors, matrices and arrays can only contain a single data type.
Data frames can contain different data types in separate columns but all
columns need to have the same length. Lists can contain different object
types and data types.</p>
<p><img src="figures/Object_types.png" width="45%" /></p>
<p><em><strong>Vectors:</strong></em></p>
<p>There are many different ways to generate vectors in R. We have
already learned concatenating <code>c()</code>.</p>
<p><em>Sequences:</em></p>
<pre class="r"><code>1:5
5:1
seq(5, 10, by = 0.5)  # create a sequence between 5 and 10 with an interval of 0.5
seq(5, 10, length = 21) # create a sequence between 5 and 10 with total length of 21
seq_len(5)  # create a sequence of integers between 1 and 5</code></pre>
<p><em>Replicates:</em></p>
<pre class="r"><code>rep(x = 2, times = 10) 
rep(2, 10)
rep(c(1, 6, 5), 2) # replicate the vector (1,6,5) twice
rep(c(1, 6, 5), each = 2)  # replicate each element of the vector (1,6,5) twice</code></pre>
<p>You can also create a vector with named elements.</p>
<pre class="r"><code>pets &lt;- c(Cat = 2, Dog = 1, Chicken = 7)</code></pre>
<p><em><strong>Matrices:</strong></em> two-dimensional object with rows
and columns containing a single data type (e.g. numeric, character,
etc.)</p>
<pre class="r"><code># create a matrix with the numbers (1,2,3,4) ordered in two rows. The function automatically fills up the columns first.
(x_mat &lt;- matrix(data = 1:4, nrow = 2)) 

# same as above: 
(x_mat &lt;- matrix(1:4, 2))  

# create a matrix with the numbers (1,2,3,4) ordered in two rows but fills up the rows first:
matrix(1:4, 2, byrow = TRUE) </code></pre>
<p><em><strong>Array:</strong></em> more-dimensional object containing a
single data type (e.g. numeric, character, etc.)</p>
<pre class="r"><code># create a three-dimensional array with four indices in first dimension, three indices in second dimension, and 2 indices in third dimension
(x_arr &lt;- array(1:24, c(4, 3, 2)) 
 )</code></pre>
<p><em><strong>Data frame:</strong></em> two-dimensional table with rows
and columns where different columns can contain different data
types.</p>
<pre class="r"><code>(veggy_shopping &lt;- data.frame(grams=c(500, 1000, 1000, 300, 200),
    veggy=c(&#39;salad&#39;, &#39;courgette&#39;, &#39;aubergine&#39;, &#39;onions&#39;, &#39;beetroot&#39;), stringsAsFactors = FALSE))</code></pre>
<p><em><strong>Lists:</strong></em> contain different “slots” with
different object types.</p>
<pre class="r"><code>(shopping &lt;- list(post = &quot;stamps&quot;,
    farmers_market = veggy_shopping,
    bank = 60,
    bakery = c(&#39;whole grain buns&#39;, &#39;rye bread&#39;)))</code></pre>
<p>It is important to have a good understanding of the characteristics
of the objects that you have in your workspace. Otherwise the risk to
make mistakes while working with them increases. There are different
functions that give you certain characteristics (e.g. <code>ncol</code>
or <code>length</code>) or simply allow you to take a better look at the
structure of an object (e.g. <code>View()</code>).</p>
<div class="alert alert-success" role="alert">
<p><strong>Test it yourself</strong></p>
<ul>
<li>Make a sequence from 2.5 to 10 with intervals of 0.25</li>
<li>Make a 6x6 matrix containing the numbers 11 to 16 (use replicates).
Fill up the matrix by row (meaning each row should contain identical
numbers between 11 and 16).</li>
<li>Make a shopping list for at least three different items,
e.g. fruits, using the data.frame() function</li>
<li>Make a list containing the above three objects.</li>
<li>Check whether you defined your objects correctly by using
<code>View()</code>.</li>
</ul>
</div>
</div>
<div id="object-structures" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Object structures</h1>
<p>Use <code>str()</code> for displaying the object structure.</p>
<pre class="r"><code>str(x_mat)
str(x_arr)
str(veggy_shopping)
str(shopping)</code></pre>
</div>
<div id="draw-samples" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Draw samples</h1>
<p>Another very useful feature is that we can draw samples from a vector
using sample(). As arguments, it takes a scalar or vector from which to
draw, and the number of samples to draw. Per default, samples are drawn
without replacement.</p>
<pre class="r"><code>sample(1:30, size = 20) # without replacement</code></pre>
<pre><code>##  [1]  4  6 19 22  7 28  2  9 13 18 26 29 15 10 24 27 16 17  8 12</code></pre>
<pre class="r"><code>sample(30, size = 20) # same</code></pre>
<pre><code>##  [1] 22 27 16 12  2 25  8  5 21  6  9 18 11 15 23 26 14  3 29 24</code></pre>
<pre class="r"><code>sample(1:30, size = 20, replace = TRUE) # with replacement</code></pre>
<pre><code>##  [1] 22 13 15 17 21  2  4  2  8 21 20  6  4 22 12 23 21 23  8 13</code></pre>
<pre class="r"><code>sample(letters, 10)</code></pre>
<pre><code>##  [1] &quot;z&quot; &quot;p&quot; &quot;k&quot; &quot;d&quot; &quot;s&quot; &quot;r&quot; &quot;f&quot; &quot;a&quot; &quot;g&quot; &quot;v&quot;</code></pre>
</div>
<div id="indexing" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Indexing</h1>
<p>Each element of an object type is internally assigned an index
(positive integer ‘address’) and you can retrieve single elements or a
subset of the object by addressing these indices. Square brackets are
used for indexing.</p>
<pre class="r"><code>y &lt;- c(2,0,0,3,7)
y[3] # retrieve the 3rd element of vector y
y[3:4] # retrieve a sequence</code></pre>
<p>We distinguish four kinds of index vectors: logical, positive
integer, a negative integer for excluding elements (inverse indexing),
and character indices if we have named vectors.</p>
<p><strong>Indexing vectors (one dimension):</strong></p>
<pre class="r"><code># Logical index vector: We ask which values in y are above 0, then we use this expression as index
y &gt; 0
y[y &gt; 0]

# We add a missing value NA to vector y and store it in a new object:
(y2 &lt;- c(y, NA))

# logical index vector: we first ask whether any value in vector y2 is NA, then we use this as logical index vector
!is.na(y2) 
y2[!is.na(y2)] 

 # index vector with positive integers: we can use sequences, but also concatenate any positive integers for indexing using c():
y2[c(1, 3:4)]

# index vector with negative integers: negative indexing results in ignoring the values
y2[-c(1, 3:4)] 

# Character indexing: We first define a vector with named elements, then we can access the values by their names:
(Fruits &lt;- c(Orange = 5, Banana = 10, Apple = 1, Pear = 20))
(Grocery &lt;- Fruits[c(&quot;Orange&quot;,&quot;Apple&quot;)]) # character index

# You can also modify single elements.
Fruits[&quot;Banana&quot;] &lt;- 0</code></pre>
<div class="alert alert-success" role="alert">
<p><strong>Test it yourself</strong></p>
<ul>
<li>How can you show y2 with only the NA remaining?</li>
<li>Play around with the positive and negative integer index vectors:
from object <code>y2</code> show elements 1, 3, 5 using positive and
negative integers</li>
<li>Add 1 pineapple to <code>Grocery</code> without changing
<code>Fruits</code></li>
</ul>
</div>
<p><strong>Indexing matrices and data frames:</strong> Matrices and data
frames are structured in rows and columns. In both cases, indexing a
single element requires two index values - the first specifying the row
and the second one the column.</p>
<pre class="r"><code># Matrix and data frame
x_mat[2,1] # element in second row, first column (returns single value)
x_mat[ ,2] # entire second column (returns vector)
x_mat[1, ] # entire first row (returns vector)

# Character indexing: We define a matrix with column names and row names, then we can access rows, columns, or specific values vy their names
mat2 &lt;- matrix(3:14, ncol=3)  # define matrix
colnames(mat2) &lt;- c(&#39;Length&#39;, &#39;Size&#39;, &#39;Weight&#39;)   # add column names
rownames(mat2) &lt;- c(&#39;plant_1&#39;, &#39;plant_2&#39;, &#39;plant_3&#39;, &#39;plant_4&#39;) # add row names
mat2
mat2[,&#39;Length&#39;]
mat2[&#39;plant_2&#39;,]
mat2[&#39;plant_4&#39;,&#39;Weight&#39;]</code></pre>
<div class="alert alert-success" role="alert">
<p><strong>Test it yourself</strong></p>
<ul>
<li>How can you access several columns of <code>mat2</code>,
e.g. columns 1 and 3?</li>
</ul>
</div>
<p>Data frames can also be indexed with positive integer index, negative
integer index, logical index and character index. Additionally, in data
frames (and lists) we can access columns using the $-operator.</p>
<pre class="r"><code># character index
veggy_shopping[&quot;grams&quot;] #column `grams`, using character index

# in data frames and lists, elements can be accessed using the $-operator
veggy_shopping$grams # column `grams`</code></pre>
<div class="alert alert-success" role="alert">
<p><strong>Test it yourself</strong></p>
<ul>
<li>Make a data frame containing plant height and weight measurements.
Use the data below, put these into columns, and name the columns
recognizably.</li>
<li>height = c(10, 13, 18, 9, 16, 35, 11, 14)</li>
<li>weight = c(5, 3.8, 2.7, 6.2, 4.9, 3.9, 5.1, 4.5)</li>
<li>Inspect the data. Could there be a measurement error, meaning an
unusually high or low number (an outlier)? Use an index vector to
replace it with NA.</li>
<li>Plot the plant weight against the plant height just like you plotted
the iris sepal width and sepal length in the last practical. BUT: don’t
use <code>attach()</code> and instead use the $-operator you were just
introduced to.</li>
</ul>
</div>
</div>
<div id="problem-solving" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Problem solving</h1>
<p>Nobody knows an entire coding language and can immediately develop
perfect code from scratch that does exactly what we want. More often
than not, code will result in errors and perhaps the most integral part
of writing and developing code is dealing with errors. Common errors
are:</p>
<p><em><em>Calling a function without loading its package:</em></em></p>
<pre class="r"><code># try to load ggplot function
ggplot() # ggplot2 package not loaded</code></pre>
<pre><code>## Error in ggplot(): konnte Funktion &quot;ggplot&quot; nicht finden</code></pre>
<p><em><em>Calls to unassigned variables:</em></em></p>
<pre class="r"><code>seq(from = k, to = 10, by = 2) # k is not yet assigned</code></pre>
<pre><code>## Error in seq(from = k, to = 10, by = 2): Objekt &#39;k&#39; nicht gefunden</code></pre>
<p><em><em>Incorrect function arguments:</em></em></p>
<pre class="r"><code>seq(from = 2, to = 10, by = 2, 1) # the final 1 is incorrect</code></pre>
<pre><code>## Error in seq.default(from = 2, to = 10, by = 2, 1): zu viele Argumente</code></pre>
<pre class="r"><code>seq(from = c(2, 3), to = 10, by = 2) # `from` argument shouldn&#39;t be a vector</code></pre>
<pre><code>## Error in seq.default(from = c(2, 3), to = 10, by = 2): &#39;from&#39; muss Länge 1 haben</code></pre>
<pre class="r"><code>seq(from = 2, to = 10, by = -2) # `by` argument should be positive</code></pre>
<pre><code>## Error in seq.default(from = 2, to = 10, by = -2): falsches Vorzeichen im &#39;by&#39; Argument</code></pre>
<p><em><em>Missing function arguments:</em></em></p>
<pre class="r"><code>mean(na.rm = TRUE) # missing vector</code></pre>
<pre><code>## Error in mean.default(na.rm = TRUE): Argument &quot;x&quot; fehlt (ohne Standardwert)</code></pre>
<p><em><em>Syntax (“grammar”) mistakes:</em></em></p>
<pre class="r"><code>seq(from = 2, to = 10 by = 2) # missing a comma
seq(from == 2, to = 10, by = 2) # extra eq sign
seq(from = 2, to = 10, by = 2)) # extra closing bracket</code></pre>
<pre><code>## Error: &lt;text&gt;:1:23: unerwartetes Symbol
## 1: seq(from = 2, to = 10 by
##                           ^</code></pre>
<p>How to solve errors:<br />
Virtually everything is possible as long as it results in a working
solution (and you don’t copy other people’s work without giving proper
credit).</p>
<p>The most common trouble-shooting options:</p>
<ul>
<li>check the line that “throws” the error - is there a syntax mistake?
Are all objects you use defined in the global environment?<br />
</li>
<li>are the function arguments correct? (check function help file for
required object types, use i.e. <code>class()</code>, <code>str()</code>
to understand your data structure better).</li>
<li>do a google search (often it is enough to copy and paste the error
message into google - solutions will often be on <a
href="https://stackoverflow.com">stack overflow</a>, a massive Q&amp;A
community across various coding languages and disciplines).</li>
<li>ask your peers/supervisors/colleagues/friends</li>
<li>check if your version is up-to-date</li>
</ul>
<div class="alert alert-info">
<p><em><strong>Exercises:</strong></em></p>
<p>Task 1: Take a look at the <code>iris</code> data set we worked with
in the previous practical:</p>
<ul>
<li>What are the 3 different Iris species?
<!-- learn how to read the different elements esp. factors --><br />
</li>
<li>What were the longest and shortest sepal lengths measured in the
survey?
<!-- students should select the sepal length column and apply the max, min or summary functions --></li>
</ul>
<p><br></p>
<p>Task 2: Make a random subset of the <code>iris</code> data set.
Randomly sample <code>n=30</code> rows. - Hints: make a sequence ranging
from 1 to the number of rows in <code>ìris</code>, use
<code>sample</code> to draw a random subset and use the resulting vector
as index vector to subset the rows of <code>iris</code>. Search online
or check the practicals whenever you do not know which function to
use.</p>
<p><br></p>
<p>Task 3: Now, let’s have a look at the data set
<code>airquality</code>:</p>
<ul>
<li>Which variables were measured? <!-- use str() --></li>
<li>Find out in which city and year were these variables measured? Add
this information as additional columns <code>city</code> and
<code>year</code>.
<!-- use the help file + add to an existing data.frame --><br />
</li>
<li>Are there any missing values? Select only those measurements where
you have information on all variables and store it in another object.
<!-- use na.omit(), assign to new object --><br />
</li>
<li>Calculate the mean temperature with and without accounting for
missing values.
<!-- select from a data.frame and apply function --><br />
</li>
<li>What was the mean temperature in May? Was it colder or warmer than
in September? <!-- use logic operator --><br />
</li>
</ul>
</div>
<!-- # References -->
</div>

<!DOCTYPE html>
<html>

<br>
<hr />
<div id="footer">
<p>Ecology & Macroecology Lab, Univ. Potsdam 2021 <a href="http://creativecommons.org/licenses/by/4.0/" >(CC BY 4.0)</a>.  </p>
</div>

</html>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
